---
title: "Criando projetos, manipulando arquivos e organizando estruturas no R"
subtitle: "Pacotes: {fs}, {usethis} e {here}"
author: "R-Ladies GoiÃ¢nia - Jennifer Lopes"
format:
  revealjs:
    theme: moon
    transition: slide
    slide-number: true
    chalkboard: true
    preview-links: auto
    css: styles.css
    footer: "Slides feitos no Quarto â€¢ R-Ladies GoiÃ¢nia"
---

## Bem-vindo! ğŸ‘‹ {.center}

**OrganizaÃ§Ã£o de Projetos em R**

::: {.columns}
::: {.column width="50%"}
- â±ï¸ **DuraÃ§Ã£o:** 2.5 horas
- ğŸ“Š **Formato:** TeÃ³rico-PrÃ¡tico
- ğŸ¯ **NÃ­vel:** Iniciante/IntermediÃ¡rio
:::

::: {.column width="50%"}
- ğŸ’» **PrÃ¡ticas:** 8 exercÃ­cios
- ğŸš€ **Projeto Final:** 20 min
- ğŸ“¦ **Pacotes:** {usethis}, {fs}, {here}
:::
:::

---

## Sobre VocÃª {.smaller}

::: {.incremental}
- JÃ¡ trabalha com projetos R?
- Usa `setwd()` nos seus scripts?
- Seus caminhos funcionam em outros PCs?
- Conhece controle de versÃ£o (Git)?
- Organiza seus arquivos de forma sistemÃ¡tica?
:::

::: {.fragment .callout-note}
NÃ£o se preocupe! Hoje vocÃª vai aprender as melhores prÃ¡ticas.
:::

---

## O Problema Comum {.smaller}

**VocÃª jÃ¡ passou por isso?**

```r
# Script que NÃƒO funciona em outro PC
setwd("C:/Users/Jennifer/Documents/meu_projeto")
dados <- read.csv("../data/dados.csv")
```

::: {.fragment}
::: {.callout-warning}
## âš ï¸ Problemas
- Caminho absoluto nÃ£o portÃ¡vel
- `setwd()` muda diretÃ³rio global
- `../` Ã© frÃ¡gil e confuso
- NÃ£o funciona em colaboraÃ§Ã£o
:::
:::

---

## A SoluÃ§Ã£o {.center}

::: {.r-stack}
![](https://via.placeholder.com/800x300/88398a/ffffff?text=1.+Projetos+R+%28.Rproj%29){.fragment}

![](https://via.placeholder.com/800x300/b048a2/ffffff?text=2.+Caminhos+Relativos+%28here%29){.fragment}

![](https://via.placeholder.com/800x300/d8b5d0/ffffff?text=3.+Organiza%C3%A7%C3%A3o+Sistem%C3%A1tica+%28fs%29){.fragment}
:::

---

## Os TrÃªs Pilares {.smaller}

| Pacote | FunÃ§Ã£o | Quando Usar |
|--------|--------|-------------|
| ğŸ“¦ **{usethis}** | Criar e configurar projetos | InÃ­cio do projeto |
| ğŸ“ **{fs}** | Manipular arquivos/pastas | Gerenciamento diÃ¡rio |
| ğŸ¯ **{here}** | Caminhos relativos seguros | Sempre! |

---

# MÃ³dulo 1 {.center background-color="#88398a"}
## Projetos com {usethis}

â±ï¸ 30 minutos

---

## O que Ã© um Projeto R? {.smaller}

**Um arquivo `.Rproj` que:**

::: {.incremental}
- ğŸ“ Define o **diretÃ³rio de trabalho** automaticamente
- ğŸ”’ MantÃ©m **ambiente isolado** (sem conflitos)
- ğŸ“š Preserva **histÃ³rico de comandos** separado
- ğŸ”„ Facilita **controle de versÃ£o** (Git)
- âœ… Garante **reprodutibilidade**
:::

---

## Por que Usar Projetos? {.smaller}

::: {.columns}
::: {.column width="50%"}
**Sem Projeto** âŒ
```r
setwd("C:/Users/...")
source("../scripts/functions.R")
dados <- read.csv("../../data.csv")
```
- Caminhos absolutos
- NÃ£o portÃ¡vel
- Confuso
:::

::: {.column width="50%"}
**Com Projeto** âœ…
```r
library(here)
source(here("scripts/functions.R"))
dados <- read.csv(here("data/data.csv"))
```
- Caminhos relativos
- PortÃ¡vel
- Limpo
:::
:::

---

## InstalaÃ§Ã£o dos Pacotes {.smaller}

```r
# Instalar (apenas uma vez)
install.packages(c("usethis", "fs", "here"))

# Carregar (sempre)
library(usethis)
library(fs)
library(here)
```

::: {.callout-tip}
## ğŸ’¡ Dica
Adicione `library(here)` em todos os seus scripts!
:::

---

## Criar Projeto BÃ¡sico {.smaller}

```r
# Cria pasta + arquivo .Rproj + abre nova sessÃ£o
usethis::create_project("meu_projeto")
```

::: {.fragment}
**O que acontece:**

::: {.incremental}
1. ğŸ“ Cria pasta `meu_projeto/`
2. ğŸ“„ Gera arquivo `meu_projeto.Rproj`
3. ğŸ“‹ Cria `.gitignore` bÃ¡sico
4. ğŸš€ Abre **nova sessÃ£o** do RStudio
:::
:::

---

## ğŸ’» PRÃTICA 1 {.center background-color="#b048a2"}

### Criar Seu Primeiro Projeto

**Tempo: 5 minutos**

---

## PrÃ¡tica 1: Tarefas {.smaller}

::: {.callout-note}
## ğŸ¯ Objetivo
Criar e explorar um projeto R
:::

**FaÃ§a:**

```r
# 1. Crie o projeto (escolha um local)
usethis::create_project("workshop_organizacao")

# 2. Observe o que foi criado
# 3. Veja o arquivo .Rproj no Explorer
# 4. Note que o working directory mudou
getwd()

# 5. Veja que estÃ¡ em um projeto
usethis::proj_get()
```

---

## âœ… Checkpoint PrÃ¡tica 1 {.center}

**VocÃª conseguiu:**

::: {.incremental}
- [ ] Criar projeto com `create_project()`?
- [ ] Ver pasta e arquivo `.Rproj` criados?
- [ ] Abrir nova sessÃ£o automaticamente?
- [ ] Confirmar working directory com `getwd()`?
:::

---

## Configurando o Projeto {.smaller}

**FunÃ§Ãµes Ãºteis do {usethis}:**

```r
# Adicionar README
use_readme_md()

# Inicializar Git
use_git()

# Criar repositÃ³rio GitHub
use_github()

# Adicionar licenÃ§a
use_mit_license("Seu Nome")

# Criar .gitignore personalizado
use_git_ignore(c("*.log", "dados_sensiveis/"))
```

---

## Estrutura Recomendada {.smaller}

```
meu_projeto/
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ raw/          # Dados originais (NUNCA modificar!)
â”‚   â””â”€â”€ clean/        # Dados processados
â”œâ”€â”€ scripts/          # CÃ³digo R
â”œâ”€â”€ reports/          # RelatÃ³rios Quarto/RMarkdown
â”œâ”€â”€ outputs/          # Tabelas, resultados
â”œâ”€â”€ figures/          # GrÃ¡ficos salvos
â”œâ”€â”€ README.md         # DocumentaÃ§Ã£o
â””â”€â”€ meu_projeto.Rproj # Arquivo do projeto
```

---

## ğŸ’» PRÃTICA 2 {.center background-color="#b048a2"}

### Configurar Infraestrutura

**Tempo: 5 minutos**

---

## PrÃ¡tica 2: Tarefas {.smaller}

::: {.callout-note}
## ğŸ¯ Objetivo
Adicionar configuraÃ§Ãµes essenciais ao projeto
:::

```r
# 1. Adicionar README
usethis::use_readme_md()

# 2. Abra o README.md e adicione:
# - Nome do projeto
# - DescriÃ§Ã£o
# - Como usar

# 3. Inicializar Git (se tiver instalado)
usethis::use_git()

# 4. Criar .gitignore personalizado
usethis::use_git_ignore(c(
  "*.log",
  "*.tmp",
  ".Rhistory",
  ".RData"
))
```

---

## âœ… Checkpoint PrÃ¡tica 2 {.center}

**VocÃª conseguiu:**

::: {.incremental}
- [ ] Criar README.md?
- [ ] Inicializar Git no projeto?
- [ ] Criar .gitignore?
- [ ] Entender a funÃ§Ã£o do Git?
:::

---

# MÃ³dulo 2 {.center background-color="#88398a"}
## Caminhos com {here}

â±ï¸ 25 minutos

---

## O Problema dos Caminhos {.smaller}

**Caminhos absolutos sÃ£o ruins:**

```r
# Windows
"C:/Users/Jennifer/Documents/projeto/data/dados.csv"

# Mac
"/Users/jennifer/Documents/projeto/data/dados.csv"

# Linux
"/home/jennifer/projeto/data/dados.csv"
```

::: {.fragment}
::: {.callout-warning}
## âš ï¸ Problema
Nenhum desses funciona em outros computadores!
:::
:::

---

## A SoluÃ§Ã£o: {here} {.smaller}

**Caminhos relativos Ã  raiz do projeto:**

```r
library(here)

# Encontra automaticamente a raiz
here()
#> "/Users/jennifer/Documents/projeto"

# ConstrÃ³i caminhos relativos
here("data", "dados.csv")
#> "/Users/jennifer/Documents/projeto/data/dados.csv"
```

::: {.fragment}
âœ… **Funciona em qualquer computador!**
:::

---

## Como {here} Funciona {.smaller}

**Procura por indicadores de raiz (nesta ordem):**

::: {.incremental}
1. ğŸ“„ Arquivo `.Rproj`
2. ğŸ“„ Arquivo `.here`
3. ğŸ“ Pasta `.git/`
4. ğŸ“„ Arquivo `DESCRIPTION`
:::

::: {.fragment}
::: {.callout-tip}
## ğŸ’¡ Dica
Por isso projetos `.Rproj` sÃ£o importantes!
:::
:::

---

## Usando {here} {.smaller}

```r
library(here)

# Ver raiz do projeto
here()

# Caminhos para pastas
here("data")
here("scripts")
here("figures")

# Caminhos para arquivos
here("data", "dados.csv")
here("scripts", "analise.R")
here("figures", "grafico.png")

# Subpastas aninhadas
here("data", "raw", "vendas_2024.xlsx")
```

---

## ComparaÃ§Ã£o: Base R vs {here} {.smaller}

::: {.columns}
::: {.column width="50%"}
**Base R** âŒ
```r
# FrÃ¡gil
"data/dados.csv"
"../data/dados.csv"
"../../data/dados.csv"

# NÃ£o portÃ¡vel
setwd("C:/Users/...")
"data/dados.csv"
```
:::

::: {.column width="50%"}
**{here}** âœ…
```r
# Sempre funciona
here("data", "dados.csv")

# PortÃ¡vel
library(here)
here("data", "dados.csv")
```
:::
:::

---

## ğŸ’» PRÃTICA 3 {.center background-color="#b048a2"}

### Explorar {here}

**Tempo: 5 minutos**

---

## PrÃ¡tica 3: Tarefas {.smaller}

::: {.callout-note}
## ğŸ¯ Objetivo
Entender como {here} constrÃ³i caminhos
:::

```r
library(here)

# 1. Onde estou?
here()

# 2. Construir caminhos (mesmo que as pastas nÃ£o existam ainda)
here("data")
here("data", "raw")
here("data", "raw", "vendas.csv")

# 3. Construir caminho para script
here("scripts", "01-importar.R")

# 4. Verificar se arquivo existe
file.exists(here("README.md"))  # TRUE
file.exists(here("data", "dados.csv"))  # FALSE (ainda nÃ£o existe)
```

---

## âœ… Checkpoint PrÃ¡tica 3 {.center}

**VocÃª conseguiu:**

::: {.incremental}
- [ ] Ver a raiz do projeto com `here()`?
- [ ] Construir caminhos com `here("pasta", "arquivo")`?
- [ ] Entender que {here} funciona antes das pastas existirem?
- [ ] Verificar existÃªncia de arquivos?
:::

---

# MÃ³dulo 3 {.center background-color="#88398a"}
## ManipulaÃ§Ã£o com {fs}

â±ï¸ 50 minutos

---

## Por que {fs}? {.smaller}

| CaracterÃ­stica | {fs} | Base R |
|----------------|------|--------|
| Sintaxe | âœ… Consistente | âŒ Variada |
| Multiplataforma | âœ… Sim | âš ï¸ Limitado |
| Mensagens erro | âœ… Claras | âŒ Obscuras |
| Retorno | âœ… Tibbles | âŒ Vetores |
| SeguranÃ§a | âœ… VerificaÃ§Ãµes | âš ï¸ Manual |

---

## Criar Estrutura de Pastas {.smaller}

```r
library(fs)
library(here)

# Criar pasta Ãºnica
dir_create(here("data"))

# Criar mÃºltiplas pastas
dir_create(here("data", "raw"))
dir_create(here("data", "clean"))
dir_create(here("scripts"))
dir_create(here("outputs"))
dir_create(here("figures"))
dir_create(here("reports"))
```

::: {.fragment}
âœ… **NÃ£o dÃ¡ erro se a pasta jÃ¡ existir!**
:::

---

## Visualizar Estrutura {.smaller}

```r
# Ver Ã¡rvore de diretÃ³rios
dir_tree(here())

# Exemplo de output:
# .
# â”œâ”€â”€ data/
# â”‚   â”œâ”€â”€ raw/
# â”‚   â””â”€â”€ clean/
# â”œâ”€â”€ scripts/
# â”œâ”€â”€ outputs/
# â”œâ”€â”€ figures/
# â”œâ”€â”€ reports/
# â”œâ”€â”€ README.md
# â””â”€â”€ projeto.Rproj
```

---

## ğŸ’» PRÃTICA 4 {.center background-color="#b048a2"}

### Criar Estrutura de Pastas

**Tempo: 5 minutos**

---

## PrÃ¡tica 4: Tarefas {.smaller}

::: {.callout-note}
## ğŸ¯ Objetivo
Criar estrutura completa de pastas do projeto
:::

```r
library(fs)
library(here)

# 1. Criar estrutura recomendada
dir_create(here("data", "raw"))
dir_create(here("data", "clean"))
dir_create(here("scripts"))
dir_create(here("outputs"))
dir_create(here("figures"))
dir_create(here("reports"))

# 2. Visualizar o que criou
dir_tree(here())

# 3. Listar apenas pastas
dir_ls(here(), type = "directory")
```

---

## âœ… Checkpoint PrÃ¡tica 4 {.center}

**VocÃª conseguiu:**

::: {.incremental}
- [ ] Criar todas as pastas com `dir_create()`?
- [ ] Visualizar estrutura com `dir_tree()`?
- [ ] Listar pastas com `dir_ls()`?
- [ ] Entender a estrutura recomendada?
:::

---

## Criar Arquivos {.smaller}

```r
# Criar arquivo vazio
file_create(here("data", "notas.txt"))

# Criar mÃºltiplos arquivos
scripts <- c(
  "01-importar.R",
  "02-limpar.R",
  "03-analisar.R",
  "04-visualizar.R"
)
file_create(here("scripts", scripts))

# Criar arquivo em subpasta
file_create(here("data", "raw", "dados_brutos.csv"))
```

---

## Listar Arquivos {.smaller}

```r
# Listar tudo
dir_ls(here())

# Listar apenas arquivos .R
dir_ls(here("scripts"), glob = "*.R")

# Listar recursivamente (incluir subpastas)
dir_ls(here("data"), recurse = TRUE)

# Listar apenas diretÃ³rios
dir_ls(here(), type = "directory")

# Listar apenas arquivos
dir_ls(here(), type = "file")
```

---

## InformaÃ§Ãµes de Arquivos {.smaller}

```r
# InformaÃ§Ãµes detalhadas (retorna tibble)
file_info(here("README.md"))

# Campos Ãºteis:
# - path: caminho
# - type: file/directory
# - size: tamanho
# - modification_time: Ãºltima modificaÃ§Ã£o
# - permissions: permissÃµes

# Apenas tamanho
file_size(here("README.md"))

# Verificar se existe
file_exists(here("README.md"))
```

---

## ğŸ’» PRÃTICA 5 {.center background-color="#b048a2"}

### Criar e Listar Arquivos

**Tempo: 8 minutos**

---

## PrÃ¡tica 5: Tarefas {.smaller}

::: {.callout-note}
## ğŸ¯ Objetivo
Criar scripts organizados e explorar funÃ§Ãµes de listagem
:::

```r
# 1. Criar scripts de anÃ¡lise
scripts <- c(
  "01-importar-dados.R",
  "02-limpar-dados.R",
  "03-explorar-dados.R",
  "04-modelar.R",
  "05-visualizar.R"
)
file_create(here("scripts", scripts))

# 2. Criar arquivos de dados fictÃ­cios
file_create(here("data", "raw", "vendas_2024.csv"))
file_create(here("data", "raw", "clientes.xlsx"))

# 3. Listar todos os scripts
dir_ls(here("scripts"))

# 4. Ver informaÃ§Ãµes dos scripts
file_info(here("scripts", "01-importar-dados.R"))

# 5. Verificar estrutura completa
dir_tree(here(), recurse = 1)
```

---

## âœ… Checkpoint PrÃ¡tica 5 {.center}

**VocÃª conseguiu:**

::: {.incremental}
- [ ] Criar mÃºltiplos scripts de uma vez?
- [ ] Listar arquivos por pasta?
- [ ] Ver informaÃ§Ãµes de arquivo com `file_info()`?
- [ ] Visualizar estrutura com `dir_tree()`?
:::

---

## Copiar Arquivos {.smaller}

```r
# Copiar um arquivo
file_copy(
  path = here("data", "raw", "vendas_2024.csv"),
  new_path = here("data", "raw", "vendas_2024_backup.csv")
)

# Copiar com sobrescrita
file_copy(
  path = here("README.md"),
  new_path = here("README_backup.md"),
  overwrite = TRUE  # Sobrescreve se existir
)

# Copiar diretÃ³rio inteiro
dir_copy(
  path = here("data", "raw"),
  new_path = here("data", "raw_backup")
)
```

---

## Mover e Renomear {.smaller}

```r
# Mover arquivo para outra pasta
file_move(
  path = here("data", "vendas.csv"),
  new_path = here("data", "clean", "vendas.csv")
)

# Renomear arquivo (= mover na mesma pasta)
file_move(
  path = here("scripts", "analise.R"),
  new_path = here("scripts", "01-analise-principal.R")
)

# Mover diretÃ³rio
dir_copy(
  path = here("outputs_old"),
  new_path = here("outputs")
)
```

---

## Deletar Arquivos {.smaller}

```r
# Deletar arquivo
file_delete(here("data", "arquivo_temporario.csv"))

# Deletar mÃºltiplos arquivos
arquivos_temp <- dir_ls(here("data"), glob = "*.tmp")
file_delete(arquivos_temp)

# Deletar diretÃ³rio vazio
dir_delete(here("pasta_vazia"))

# CUIDADO: Deletar diretÃ³rio com conteÃºdo
dir_delete(here("pasta_com_arquivos"))
```

::: {.callout-warning}
## âš ï¸ ATENÃ‡ÃƒO
Deletar Ã© **permanente** (nÃ£o vai para lixeira)!
:::

---

## ğŸ’» PRÃTICA 6 {.center background-color="#b048a2"}

### Copiar, Mover e Organizar

**Tempo: 10 minutos**

---

## PrÃ¡tica 6: Tarefas {.smaller}

::: {.callout-note}
## ğŸ¯ Objetivo
Praticar operaÃ§Ãµes de manipulaÃ§Ã£o de arquivos
:::

```r
# 1. Criar arquivo de teste
file_create(here("data", "raw", "teste_dados.csv"))

# 2. Copiar para clean (simulando processamento)
file_copy(
  path = here("data", "raw", "teste_dados.csv"),
  new_path = here("data", "clean", "teste_dados_limpo.csv")
)

# 3. Criar backup do script principal
file_copy(
  path = here("scripts", "01-importar-dados.R"),
  new_path = here("scripts", "01-importar-dados_backup.R")
)

# 4. Renomear arquivo
file_move(
  path = here("data", "clean", "teste_dados_limpo.csv"),
  new_path = here("data", "clean", "dados_processados_v1.csv")
)

# 5. Listar o que tem em cada pasta
dir_ls(here("data", "raw"))
dir_ls(here("data", "clean"))

# 6. Deletar backup (cuidado!)
file_delete(here("scripts", "01-importar-dados_backup.R"))
```

---

## âœ… Checkpoint PrÃ¡tica 6 {.center}

**VocÃª conseguiu:**

::: {.incremental}
- [ ] Copiar arquivo com `file_copy()`?
- [ ] Mover/renomear com `file_move()`?
- [ ] Deletar arquivo com `file_delete()`?
- [ ] Entender o fluxo raw â†’ clean?
:::

---

## ManipulaÃ§Ã£o de Caminhos {.smaller}

```r
# Extrair extensÃ£o
path_ext("relatorio.docx")  # "docx"

# Mudar extensÃ£o
path_ext_set("analise.xlsx", "csv")  # "analise.csv"

# Remover extensÃ£o
path_ext_remove("dados.csv")  # "dados"

# Nome do arquivo (sem caminho)
path_file(here("data", "vendas.csv"))  # "vendas.csv"

# DiretÃ³rio pai
path_dir(here("data", "raw", "vendas.csv"))  # ".../data/raw"

# Caminho absoluto
path_abs("data/dados.csv")
```

---

## Arquivos TemporÃ¡rios {.smaller}

**Ãšteis para dados intermediÃ¡rios:**

```r
# Criar arquivo temporÃ¡rio
arquivo_temp <- file_temp(ext = ".csv")
arquivo_temp
#> "/tmp/RtmpXYZ/file123abc.csv"

# Criar com nome especÃ­fico
temp_dados <- file_temp("analise_temp", ext = ".rds")

# Ver diretÃ³rio temporÃ¡rio
path_temp()

# Criar pasta temporÃ¡ria
pasta_temp <- dir_create(file_temp())
```

::: {.callout-tip}
## ğŸ’¡ Vantagem
Sistema operacional limpa automaticamente!
:::

---

## ğŸ’» PRÃTICA 7 {.center background-color="#b048a2"}

### ManipulaÃ§Ã£o AvanÃ§ada

**Tempo: 8 minutos**

---

## PrÃ¡tica 7: Tarefas {.smaller}

::: {.callout-note}
## ğŸ¯ Objetivo
Usar funÃ§Ãµes avanÃ§adas de manipulaÃ§Ã£o de caminhos
:::

```r
# 1. Criar arquivos com diferentes extensÃµes
file_create(here("outputs", "resultado.csv"))
file_create(here("outputs", "resultado.xlsx"))
file_create(here("outputs", "relatorio.pdf"))

# 2. Listar e extrair extensÃµes
arquivos <- dir_ls(here("outputs"))
path_ext(arquivos)

# 3. Mudar extensÃ£o de CSV para TXT
file_move(
  path = here("outputs", "resultado.csv"),
  new_path = here("outputs", path_ext_set("resultado.csv", "txt"))
)

# 4. Pegar apenas nome do arquivo
path_file(here("outputs", "relatorio.pdf"))

# 5. Criar arquivo temporÃ¡rio para teste
temp_file <- file_temp(ext = ".rds")
saveRDS(mtcars, temp_file)

# Verificar que foi criado
file_exists(temp_file)
```

---

## âœ… Checkpoint PrÃ¡tica 7 {.center}

**VocÃª conseguiu:**

::: {.incremental}
- [ ] Extrair extensÃµes com `path_ext()`?
- [ ] Mudar extensÃ£o com `path_ext_set()`?
- [ ] Pegar nome do arquivo com `path_file()`?
- [ ] Criar arquivo temporÃ¡rio?
:::

---

## Integrando Tudo {.smaller}

**Workflow completo:**

```r
library(here)
library(fs)

# 1. Caminho com {here}
caminho_dados <- here("data", "raw", "vendas.csv")

# 2. Verificar se existe com {fs}
if (file_exists(caminho_dados)) {
  # 3. Ler dados
  dados <- read.csv(caminho_dados)
  
  # 4. Processar...
  
  # 5. Salvar resultado
  caminho_limpo <- here("data", "clean", "vendas_limpo.csv")
  write.csv(dados, caminho_limpo)
  
  # 6. Confirmar
  message("Arquivo salvo: ", caminho_limpo)
}
```

---

# Boas PrÃ¡ticas {.center background-color="#88398a"}

â±ï¸ 15 minutos

---

## FaÃ§a âœ… {.smaller}

::: {.incremental}
1. **Use projetos R** para todo trabalho
2. **Sempre use `here()`** para caminhos
3. **Nunca modifique** dados em `data/raw/`
4. **Use nomes descritivos** sem espaÃ§os
5. **Documente** no README.md
6. **Versione** com Git
7. **Use prefixos numÃ©ricos** nos scripts (01-, 02-)
:::

---

## Evite âŒ {.smaller}

::: {.incremental}
1. **`setwd()`** - Nunca use!
2. **Caminhos absolutos** - NÃ£o portÃ¡veis
3. **EspaÃ§os em nomes** - Use `_` ou `-`
4. **Acentos em nomes** - Causam problemas
5. **Modificar raw/** - Dados originais sÃ£o sagrados
6. **Scripts sem nÃºmero** - Dificulta ordem
:::

---

## Nomenclatura de Arquivos {.smaller}

::: {.columns}
::: {.column width="50%"}
**Ruim** âŒ
```
analise final.R
dados (1).csv
relatorio_versao_final_final.docx
Script AnÃ¡lise.R
```
:::

::: {.column width="50%"}
**Bom** âœ…
```
03-analise-final.R
dados_vendas_2024.csv
relatorio_v03.docx
01-importar-dados.R
```
:::
:::

---

## Estrutura de Scripts {.smaller}

**Template de script bem organizado:**

```r
# TÃ­tulo: AnÃ¡lise de Vendas 2024
# Autor: Jennifer Lopes
# Data: 2024-01-15
# DescriÃ§Ã£o: Importa e limpa dados de vendas

# 1. ConfiguraÃ§Ã£o ----
library(here)
library(fs)
library(dplyr)

# 2. Importar dados ----
dados_raw <- read.csv(here("data", "raw", "vendas.csv"))

# 3. Limpeza ----
dados_clean <- dados_raw %>%
  filter(!is.na(valor))

# 4. Exportar ----
write.csv(dados_clean, here("data", "clean", "vendas_limpo.csv"))
```

---

## README.md Essencial {.smaller}

**O que incluir:**

```markdown
# Nome do Projeto

## DescriÃ§Ã£o
Breve descriÃ§Ã£o do que o projeto faz.

## Estrutura de Pastas
- `data/raw/` - Dados originais
- `data/clean/` - Dados processados
- `scripts/` - CÃ³digo R

## Como Usar
1. Abra `projeto.Rproj`
2. Execute `scripts/01-importar.R`
3. ...

## DependÃªncias
- R >= 4.0
- Pacotes: dplyr, ggplot2, here, fs
```

---

## ğŸ’» PRÃTICA 8 {.center background-color="#b048a2"}

### Documentar Projeto

**Tempo: 5 minutos**

---

## PrÃ¡tica 8: Tarefas {.smaller}

::: {.callout-note}
## ğŸ¯ Objetivo
Criar documentaÃ§Ã£o completa do projeto
:::

**Abra o README.md e adicione:**

```markdown
# Workshop OrganizaÃ§Ã£o de Projetos

## DescriÃ§Ã£o
Projeto criado no workshop de organizaÃ§Ã£o com R-Ladies GoiÃ¢nia.

## Estrutura
- `data/raw/` - Dados brutos (nÃ£o modificar)
- `data/clean/` - Dados processados
- `scripts/` - Scripts numerados
- `outputs/` - Resultados
- `figures/` - GrÃ¡ficos

## Scripts
1. `01-importar-dados.R` - ImportaÃ§Ã£o
2. `02-limpar-dados.R` - Limpeza
3. `03-explorar-dados.R` - AnÃ¡lise exploratÃ³ria
4. `04-modelar.R` - Modelagem
5. `05-visualizar.R` - VisualizaÃ§Ãµes

## DependÃªncias
- R >= 4.0
- Pacotes: usethis, fs, here, dplyr
```

---

## âœ… Checkpoint PrÃ¡tica 8 {.center}

**VocÃª conseguiu:**

::: {.incremental}
- [ ] Editar README.md com informaÃ§Ãµes do projeto?
- [ ] Documentar estrutura de pastas?
- [ ] Listar scripts e suas funÃ§Ãµes?
- [ ] Incluir dependÃªncias?
:::

---

# Projeto Final {.center background-color="#88398a"}

## Mini-Projeto Integrado

â±ï¸ 20 minutos

---

## Projeto Final: AnÃ¡lise de Vendas {.smaller}

::: {.callout-note}
## ğŸ¯ Objetivo
Aplicar tudo que aprendeu em um projeto real
:::

**CenÃ¡rio:** VocÃª trabalha em uma empresa e precisa analisar dados de vendas do Ãºltimo trimestre.

**Entregas:**
1. Estrutura de projeto organizada
2. Scripts numerados
3. Dados simulados
4. AnÃ¡lise bÃ¡sica
5. README documentado

---

## Projeto Final: Parte 1 {.smaller}

**Criar infraestrutura (5 min):**

```r
# 1. Criar novo projeto
usethis::create_project("analise_vendas_2024")

# 2. Estrutura completa
library(fs)
library(here)

dir_create(here("data", "raw"))
dir_create(here("data", "clean"))
dir_create(here("scripts"))
dir_create(here("outputs"))
dir_create(here("figures"))

# 3. Criar scripts
scripts <- c(
  "01-gerar-dados.R",
  "02-limpar-dados.R",
  "03-analisar-vendas.R",
  "04-criar-graficos.R"
)
file_create(here("scripts", scripts))

# 4. Inicializar Git e README
usethis::use_git()
usethis::use_readme_md()
```

---

## Projeto Final: Parte 2 {.smaller}

**Script 01: Gerar dados (5 min):**

Crie `scripts/01-gerar-dados.R`:

```r
# TÃ­tulo: Gerar dados de vendas simulados
# Autor: Seu Nome
# Data: 2024-01-15

library(here)

# Gerar dados fictÃ­cios
set.seed(123)
vendas <- data.frame(
  data = seq.Date(as.Date("2024-01-01"), as.Date("2024-03-31"), by = "day"),
  produto = sample(c("A", "B", "C", "D"), 90, replace = TRUE),
  valor = round(runif(90, 100, 1000), 2),
  quantidade = sample(1:10, 90, replace = TRUE),
  regiao = sample(c("Norte", "Sul", "Leste", "Oeste"), 90, replace = TRUE)
)

# Salvar dados brutos
write.csv(vendas, here("data", "raw", "vendas_q1_2024.csv"), row.names = FALSE)

print("âœ… Dados gerados e salvos em data/raw/")
```

Execute este script!

---

## Projeto Final: Parte 3 {.smaller}

**Script 02: Limpar dados (5 min):**

Crie `scripts/02-limpar-dados.R`:

```r
# TÃ­tulo: Limpeza e processamento de dados
# Autor: Seu Nome
# Data: 2024-01-15

library(here)
library(dplyr)

# Importar dados brutos
vendas_raw <- read.csv(here("data", "raw", "vendas_q1_2024.csv"))

# Limpar e processar
vendas_clean <- vendas_raw %>%
  mutate(
    data = as.Date(data),
    receita = valor * quantidade,
    mes = format(data, "%m")
  ) %>%
  filter(valor > 0, quantidade > 0)

# Salvar dados limpos
write.csv(vendas_clean, 
          here("data", "clean", "vendas_processadas.csv"), 
          row.names = FALSE)

print("âœ… Dados limpos e salvos em data/clean/")
print(paste("Total de registros:", nrow(vendas_clean)))
```

Execute este script!

---

## Projeto Final: Parte 4 {.smaller}

**Script 03: AnÃ¡lise (5 min):**

Crie `scripts/03-analisar-vendas.R`:

```r
# TÃ­tulo: AnÃ¡lise de vendas
# Autor: Seu Nome
# Data: 2024-01-15

library(here)
library(dplyr)

# Importar dados limpos
vendas <- read.csv(here("data", "clean", "vendas_processadas.csv"))

# AnÃ¡lises
resumo_produto <- vendas %>%
  group_by(produto) %>%
  summarise(
    receita_total = sum(receita),
    vendas_total = n(),
    ticket_medio = mean(valor)
  ) %>%
  arrange(desc(receita_total))

resumo_regiao <- vendas %>%
  group_by(regiao) %>%
  summarise(
    receita_total = sum(receita),
    vendas_total = n()
  ) %>%
  arrange(desc(receita_total))

# Salvar resultados
write.csv(resumo_produto, here("outputs", "resumo_por_produto.csv"), row.names = FALSE)
write.csv(resumo_regiao, here("outputs", "resumo_por_regiao.csv"), row.names = FALSE)

print("âœ… AnÃ¡lises salvas em outputs/")
print(resumo_produto)
```

---

## Projeto Final: Checklist {.smaller}

::: {.incremental}
- [ ] **Estrutura** criada corretamente?
- [ ] **Scripts** numerados e organizados?
- [ ] **Dados raw** em `data/raw/`?
- [ ] **Dados clean** em `data/clean/`?
- [ ] **Outputs** em `outputs/`?
- [ ] **README.md** documentado?
- [ ] **Git** inicializado?
- [ ] Todos scripts **executam sem erro**?
:::

---

## ApresentaÃ§Ã£o do Projeto {.center}

**Compartilhe com o grupo:**

::: {.incremental}
1. Mostre sua estrutura com `dir_tree()`
2. Explique seu workflow
3. Mostre os resultados
4. Quais desafios encontrou?
5. O que aprendeu?
:::

---

# Resumo e PrÃ³ximos Passos {.center background-color="#88398a"}

---

## O que vocÃª aprendeu hoje {.smaller}

::: {.incremental}
âœ… **{usethis}** - Criar e configurar projetos  
âœ… **{here}** - Caminhos relativos seguros  
âœ… **{fs}** - Manipular arquivos e pastas  
âœ… Estrutura de projeto recomendada  
âœ… Boas prÃ¡ticas de organizaÃ§Ã£o  
âœ… Nomenclatura de arquivos  
âœ… DocumentaÃ§Ã£o com README  
âœ… Git bÃ¡sico para projetos  
:::

---

## TrÃªs Pilares da OrganizaÃ§Ã£o {.smaller}

| Pacote | FunÃ§Ã£o Principal | Quando Usar |
|--------|------------------|-------------|
| ğŸ“¦ **{usethis}** | Criar e configurar projetos | InÃ­cio do projeto |
| ğŸ¯ **{here}** | Caminhos relativos seguros | Sempre! |
| ğŸ“ **{fs}** | Manipular arquivos/pastas | Gerenciamento diÃ¡rio |

::: {.fragment}
::: {.callout-tip}
## ğŸ’¡ Regra de Ouro
**Sempre use projetos + here() + fs!**
:::
:::

---

## ComparaÃ§Ã£o: Antes vs Depois {.smaller}

::: {.columns}
::: {.column width="50%"}
**Antes** âŒ
```r
setwd("C:/Users/...")
source("../script.R")
dados <- read.csv("../../dados.csv")

# Arquivos espalhados
# Sem organizaÃ§Ã£o
# NÃ£o reproduzÃ­vel
```
:::

::: {.column width="50%"}
**Depois** âœ…
```r
library(here)
source(here("scripts/funcoes.R"))
dados <- read.csv(here("data/raw/dados.csv"))

# Estrutura clara
# Bem organizado
# Totalmente reproduzÃ­vel
```
:::
:::

---

## Cheatsheet RÃ¡pido {.smaller}

```r
# === CRIAR PROJETO ===
usethis::create_project("nome_projeto")

# === CONFIGURAR ===
usethis::use_readme_md()
usethis::use_git()

# === ESTRUTURA ===
library(here); library(fs)
dir_create(here("data", c("raw", "clean")))
dir_create(here(c("scripts", "outputs", "figures")))

# === CAMINHOS ===
here("data", "arquivo.csv")  # Sempre use!

# === ARQUIVOS ===
file_create(here("scripts", "analise.R"))
file_copy(origem, destino, overwrite = TRUE)
file_move(origem, destino)
file_delete(arquivo)

# === PASTAS ===
dir_ls(here("data"))
dir_tree(here())
```

---

## Template de Projeto {.smaller}

**Salve como `setup_projeto.R`:**

```r
criar_projeto_padrao <- function(nome) {
  # Criar projeto
  usethis::create_project(nome)
  
  # Estrutura de pastas
  fs::dir_create(here::here("data", c("raw", "clean")))
  fs::dir_create(here::here(c("scripts", "outputs", "figures", "reports")))
  
  # Scripts bÃ¡sicos
  scripts <- c("01-import.R", "02-clean.R", "03-analyze.R")
  fs::file_create(here::here("scripts", scripts))
  
  # DocumentaÃ§Ã£o
  usethis::use_readme_md()
  
  # Git
  usethis::use_git()
  
  message("âœ… Projeto criado com sucesso!")
}

# Usar: criar_projeto_padrao("meu_novo_projeto")
```

---

## PrÃ³ximos Passos {.smaller}

::: {.incremental}
1. ğŸ‹ï¸ **Pratique** criando projetos reais
2. ğŸ”€ **Integre** com GitHub (`usethis::use_github()`)
3. ğŸ“¦ **Explore** {renv} para gerenciar dependÃªncias
4. ğŸ¯ **Aprenda** {targets} para pipelines complexos
5. ğŸ“š **Documente** sempre com README detalhado
6. ğŸ¤ **Compartilhe** suas boas prÃ¡ticas
:::

---

## Recursos e ReferÃªncias {.smaller}

**DocumentaÃ§Ã£o Oficial:**
- [{usethis}](https://usethis.r-lib.org/) - AutomaÃ§Ã£o de setup
- [{fs}](https://fs.r-lib.org/) - ManipulaÃ§Ã£o de arquivos
- [{here}](https://here.r-lib.org/) - Caminhos relativos

**Livros e Tutoriais:**
- [R for Data Science - Workflow](https://r4ds.hadley.nz/workflow-scripts.html)
- [What They Forgot to Teach You About R](https://rstats.wtf/)
- [RStudio Projects Tutorial](https://support.posit.co/hc/en-us/articles/200526207)

**Ferramentas Complementares:**
- [{renv}](https://rstudio.github.io/renv/) - Gerenciar dependÃªncias
- [{targets}](https://docs.ropensci.org/targets/) - Pipelines reproduzÃ­veis

---

## Boas PrÃ¡ticas - RevisÃ£o {.smaller}

**Sempre FaÃ§a âœ…:**
1. Trabalhe em projetos (.Rproj)
2. Use `here()` para todos os caminhos
3. Nunca modifique `data/raw/`
4. Use nomes descritivos sem espaÃ§os
5. Numere scripts na ordem de execuÃ§Ã£o
6. Documente no README.md
7. Versione com Git

**Nunca FaÃ§a âŒ:**
1. Usar `setwd()`
2. Caminhos absolutos
3. EspaÃ§os ou acentos em nomes
4. Modificar dados originais
5. Scripts sem organizaÃ§Ã£o

---

## Dicas Finais {.smaller}

::: {.callout-tip}
## ğŸš€ Para levar para casa
1. **Comece simples** - Use o template bÃ¡sico
2. **Seja consistente** - Siga sempre a mesma estrutura
3. **Documente tudo** - Seu eu futuro agradece
4. **Compartilhe** - Ensine outros a se organizarem
5. **Adapte** - Ajuste a estrutura para suas necessidades
:::

---

## ExercÃ­cio de Casa ğŸ“š {.smaller}

**Desafio:**

1. Crie um projeto para um trabalho real seu
2. Migre cÃ³digo antigo para a nova estrutura
3. Adicione README completo
4. Versione com Git
5. Compartilhe no GitHub

**Bonus:**
- Crie seu prÃ³prio template personalizado
- Explore extensÃµes do {usethis}
- Teste {renv} para dependÃªncias

---

## Feedback e Contato {.center}

::: {.callout-note}
## ğŸ“ Sua opiniÃ£o Ã© importante!
Ajude a melhorar este workshop
:::

**Contato:**
- ğŸ“§ Email: jennifer@rladies-goiania.org
- ğŸ’» GitHub: @rladies-goiania
- ğŸ¦ Twitter: @RLadiesGoiania
- ğŸ’¬ Telegram: R-Ladies GoiÃ¢nia

**Materiais:**
- ğŸ“Š Slides: [github.com/rladies-goiania/workshop-organizacao]
- ğŸ’» CÃ³digo: [github.com/rladies-goiania/exemplos]

---

## Obrigada! ğŸ‰ {.center}

::: {style="text-align: center; font-size: 1.5em; margin: 50px 0;"}
**R-Ladies GoiÃ¢nia**

Organizando projetos,  
uma pasta por vez! ğŸ“âœ¨
:::

::: {.fragment}
### Perguntas? ğŸ’¬
:::

---

## ApÃªndice: Links SimbÃ³licos {.smaller}

**O que sÃ£o?**
"Atalhos" que apontam para arquivo/pasta sem duplicar dados

```r
# Criar link
link_create(
  path = here("data", "dados_grandes.csv"),
  new_path = here("analise", "dados_link")
)

# Ver para onde aponta
link_path(here("analise", "dados_link"))

# Deletar link (nÃ£o deleta original)
link_delete(here("analise", "dados_link"))
```

**Quando usar:** Acessar mesmos dados em mÃºltiplos locais

---

## ApÃªndice: Arquivos TemporÃ¡rios {.smaller}

**Para dados intermediÃ¡rios ou testes:**

```r
# Criar arquivo temporÃ¡rio
temp_file <- file_temp(ext = ".rds")
temp_file
#> "/tmp/RtmpXYZ/file123abc.rds"

# Usar normalmente
saveRDS(meus_dados, temp_file)
dados <- readRDS(temp_file)

# Ver diretÃ³rio temp
path_temp()

# Criar pasta temporÃ¡ria
temp_dir <- dir_create(file_temp())
```

**Vantagem:** Sistema limpa automaticamente!

---

## ApÃªndice: FunÃ§Ãµes AvanÃ§adas {fs} {.smaller}

```r
# Obter extensÃ£o
path_ext("relatorio.docx")  # "docx"

# Mudar extensÃ£o
path_ext_set("dados.xlsx", "csv")  # "dados.csv"

# Remover extensÃ£o
path_ext_remove("analise.R")  # "analise"

# Nome do arquivo
path_file(here("data", "vendas.csv"))  # "vendas.csv"

# DiretÃ³rio pai
path_dir(here("data", "raw", "vendas.csv"))  # ".../data/raw"

# Caminho absoluto
path_abs("data/arquivo.csv")

# Caminho relativo
path_rel(here("data", "arquivo.csv"), start = here())
```

---

## ApÃªndice: IntegraÃ§Ã£o com Git {.smaller}

```r
# Inicializar Git
usethis::use_git()

# Configurar GitHub
usethis::use_github()

# Criar .gitignore personalizado
usethis::use_git_ignore(c(
  "*.log",
  "*.tmp",
  "*.RData",
  ".Rhistory",
  "data/raw/*",  # NÃ£o versionar dados brutos
  "outputs/*"    # NÃ£o versionar outputs
))

# Adicionar licenÃ§a
usethis::use_mit_license("Seu Nome")

# Criar arquivo NEWS
usethis::use_news_md()
```

---

## ApÃªndice: Troubleshooting {.smaller}

**Problema: `here()` nÃ£o encontra raiz**

```r
# SoluÃ§Ã£o: Criar arquivo .here
file_create(here::here(".here"))
```

**Problema: Erro de permissÃ£o ao deletar**

```r
# SoluÃ§Ã£o: Verificar permissÃµes
file_info(arquivo)$permissions

# Mudar permissÃµes (Linux/Mac)
fs::file_chmod(arquivo, "u+w")
```

**Problema: Caminho muito longo (Windows)**

```r
# SoluÃ§Ã£o: Usar caminhos relativos com here()
# ou mover projeto para pasta mais prÃ³xima da raiz
```